get_abs_path() {
  # $1 : relative filename
  echo "$(cd "$(dirname "$1")" && pwd)/$(basename "$1")"
}

unset DEVROOT SDKROOT CFLAGS CC LD CPP CXX AR AS NM CXXCPP RANLIB LDFLAGS CPPFLAGS CXXFLAGS

export NDK_PLATFORM_ROOT=$NDK_STANDALONE/arm
export NDK_PLATFORM_NAME=armeabi-v7a
export NDK_HOST_NAME=arm-linux-androideabi
export NDK_ADDITIONAL_LIBRARY_PATH=$(get_abs_path "../../nativelibs/$NDK_PLATFORM_NAME")
export PATH=$NDK_PLATFORM_ROOT/bin:$PATH
export PKG_CONFIG_PATH=$NDK_ADDITIONAL_LIBRARY_PATH/lib/pkgconfig
export ACLOCAL_PATH=$NDK_ADDITIONAL_LIBRARY_PATH/share/aclocal

export NDK_CFLAGS=" -mthumb -march=armv7-a -mfloat-abi=softfp -mfpu=vfpv3-d16 -D__ANDROID_API__=\$API"
export NDK_LDFLAGS=" -march=armv7-a -Wl,--fix-cortex-a8 "
export CC=$NDK_PLATFORM_ROOT/bin/arm-linux-androideabi-gcc
export CXX=$NDK_PLATFORM_ROOT/bin/arm-linux-androideabi-g++
